# ğŸ‘¬ ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ ìƒˆë¡œìš´ ëª¨ì„ì„ ê°€ì ¸ë³¼ê¹Œìš”? Parting!
<img src="https://github.com/kimseongj/Drinkin/assets/88870642/ff5d1d50-fa35-437f-a56b-8da2a31688f6" width=200>

<br/>
<br/>

> ğŸ‘¬ *Parting*
> 
>ê°œë°œê¸°ê°„: 2024.01.01~ing
>
>Party ì™€ -ingì˜ í•©ì„±ì–´ë¡œ ì´ìš©ìê°€ ì›í•˜ëŠ” ì¹´í…Œê³ ë¦¬ì˜ ì¼íšŒì„± ëª¨ì„, ë²ˆê°œ ëª¨ì„ ë“±ì„ ìƒì„±í•˜ê³  ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ì•±ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ì˜ ëª¨ì„ì„ ê°€ê¹Œìš´ ì§€ì—­ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br/>
<br/>

## âš’ï¸ ê¸°ëŠ¥ ì†Œê°œ
ë‹¤ì–‘í•œ ì‚¬ëŒë“¤ê³¼ ìƒˆë¡œìš´ ëª¨ì„ì„ í•´ë³´ê³  ì‹¶ë‚˜ìš”?

Partingì„ í†µí•´ ì‹œì‘í•´ë³´ì„¸ìš”!

ì›í•˜ëŠ” ì¹´í…Œê³ ë¦¬ì˜ ëª¨ì„ì„ ì°¾ì•„ë³´ê³  ì°¸ì—¬í•´ë³´ì„¸ìš”!

ì§€ë„ë¥¼ í†µí•´ì„œ ê·¼ì²˜ íŒŒí‹°ë¥¼ ì°¾ì•„ë³´ì„¸ìš”!


### Parting UI
#### ì•±ì§„ì…
|ë¡œê·¸ì¸|ìƒì„¸ì •ë³´ ê¸°ì…|ì¹´í…Œê³ ë¦¬ ì„¤ì •|ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ ì„¤ì •|
|:----:|:----:|:----:|:----:|
|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/0e92261f-da33-4966-b04b-a55a5f968ecb" width=150>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/e1d47d14-b9b8-48d9-be60-e913fe9375e2" width=150>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/2f4a0ee6-e849-45c4-ad5f-fd8dff16179e" width=150>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/4b20fcc1-1c5e-4efb-8feb-7a3ad9ac60ee" width=150>

<br/>

#### ë©”ì¸í™”ë©´
|ë©”ì¸í™”ë©´|íŒŒí‹°ë¦¬ìŠ¤íŠ¸|íŒŒí‹°ë¦¬ìŠ¤íŠ¸ ì„¸ë¶€ì„¤ì •|ë‹¬ë ¥UI|
|:----:|:----:|:----:|:----:|
|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/7ffaa2bd-c873-484e-9370-3083e878b241" width=150>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/c166311b-aa7b-4dc4-96f9-0d98ba5569e6" width=150>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/366a2a6e-67a4-48f9-89d4-f4dbfb64e041" width=150>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/e2f0be20-f59e-4f16-ae56-0610520832b6" width=150>

<br/>

#### ê¸°íƒ€ íƒ­ë°”
|NaverMap |ë§ˆì´í˜ì´ì§€|í”„ë¡œí•„ ìˆ˜ì •|
|:----:|:----:|:----:|
|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/dc7e26a6-4b7f-41e0-81d8-12ae637b8435" width=200>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/46255b8a-65a4-4d85-9f3f-c353805980b3" width=200>|<img src="https://github.com/kimseongj/Drinkin/assets/88870642/ad9dfc13-f87d-4e63-80ae-9c4892811580" width=200>|


<br/>
<br/>

## âš™ï¸ ê¸°ìˆ  ìŠ¤íƒ
<img src="https://img.shields.io/badge/MVVM-100AF?style=flat-square"/>
<img src="https://img.shields.io/badge/Coordinator-019999?style=flat-square"/>
<img src="https://img.shields.io/badge/RxSwifft-AAA1AF?style=flat-square"/>
<img src="https://img.shields.io/badge/Alamofire-100000?style=flat-square"/>
<img src="https://img.shields.io/badge/KingFisher-FF0000?style=flat-square"/>
<img src="https://img.shields.io/badge/Tabman-EEE6C4?style=flat-square"/>
<img src="https://img.shields.io/badge/FSCalendar-DDA2FF?style=flat-square"/> 

<br/>
<br/>
<br/>
<br/>

## ğŸ“ ì•„í‚¤í…ì³- MVVM/C
![MVVM - C](https://github.com/kimseongj/Drinkin/assets/88870642/4a75210d-0770-43fb-9f2f-64311e06a44c)


<br/>
<br/>

## ğŸƒê¸°ìˆ ì  ë„ì „
<details>
    <summary><big>MVVM - C</big></summary> 
    
### MVVM - C

> MVVM-C ì•„í‚¤í…ì³ íŒ¨í„´ì€ MVVMíŒ¨í„´ì„ ìœ ì§€í•˜ë©° CoordinatoríŒ¨í„´ì„ í†µí•´ í™”ë©´ ì „í™˜ì„ í•˜ëŠ” ë³µí•©íŒ¨í„´ì…ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ Viewì—ì„œ Coordinatorë¥¼ ì˜ì¡´í•˜ëŠ” í˜•íƒœì´ì§€ë§Œ í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” Coordinatorë¥¼ ViewModelì—ì„œ ì˜ì¡´í•˜ê³  ìˆìŠµë‹ˆë‹¤. ViewModelì´ Coordinatorë¥¼ ì˜ì¡´í•˜ê³  ìˆëŠ” ì´ìœ ëŠ” ViewModelì˜ inputì´ Viewì˜ ì‚¬ìš©ì ì´ë²¤íŠ¸, lifeCycle ë“±ì„ enumìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ inputì„ bindingí•˜ì—¬ í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ, ViewModelì—ì„œ ê·¸ ì´ë²¤íŠ¸ì— ë§ëŠ” ë°˜ì‘ì„ í•´ì¤˜ì•¼í•˜ê¸° ë•Œë¬¸ì— ViewModelì´ Coordinatorë¥¼ ì˜ì¡´í•˜ê³  ìˆëŠ” í˜•íƒœë¥¼ ë„ê³  ìˆìŠµë‹ˆë‹¤.

:fire: ê²°ë¡ ì€ MVVMê³¼ Coordinatorì˜ í•©ì„±ì— ìˆì–´ Coordinatorì˜ ì˜ì¡´ì„±ì„ ë°›ëŠ” ê³³ì´ Viewì´ë“  ViewModelì´ë“  ê¸°ëŠ¥ì— ë§ê²Œ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 


 </details>

    
<details>
<summary><big>RxSwift</big></summary> 
    
### RxSwift
> RxSwiftëŠ” ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, Xcode ë‚´ì¥ í”„ë ˆì„ì›Œí¬ì¸ Combineì´ ë§Œë“¤ì–´ì§€ê¸° ì „ì— ì‚¬ìš©ë˜ë˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. RxSwiftëŠ” í˜„ì¬ë„ ë§ì€ ê¸°ì—…ì—ì„œ ì±„íƒí•˜ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë‹¤ë¤„ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. 
RxSwiftëŠ” Observable(= Publisher)ì™€ Observer(= subscriber)ë¡œ ì´ë£¨ì–´ì ¸ìˆìŠµë‹ˆë‹¤. 
    
- Observableì€ ë¹„ë™ê¸° ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ itemì„ ë°©ì¶œí•©ë‹ˆë‹¤. 
- ObserverëŠ” Observableë¥¼ êµ¬ë…í•˜ì—¬ ë¹„ë™ê¸°ì²˜ë¦¬ê°€ ëë‚˜ëŠ” ì‹œì ì— ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” closureë¥¼ ì§€ì›í•´ì¤ë‹ˆë‹¤. 
- SubjectëŠ” Observerì´ê¸° ë•Œë¬¸ì— Observableì„ êµ¬ë…í•  ìˆ˜ ìˆìœ¼ë©°, ë™ì‹œì— Observableì´ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ í•­ëª©ë“¤ì„ ë°©ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</details>
    
<details>
<summary><big>NaverMap APIí™œìš©</big></summary> 
    
### NaverMap
>NaverMap APIë¥¼ í™œìš©í•˜ì—¬ ì¹´ë©”ë¼ ì´ë™ì— ë”°ë¥¸ APIí˜¸ì¶œì„ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë˜í•œ ì¹´ë©”ë¦¬ ì´ë™ì‹œ í˜¸ì¶œëœ ë°ì´í„°ë¥¼ í†µí•´ ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ì—¬ í˜„ì¬ ì¹´ë©”ë¼ì— ìˆëŠ” íŒŒí‹°ë“¤ì„ ë„ì–´ì£¼ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  

:fire: í•´ë‹¹ ì´ë²¤íŠ¸ í˜¸ì¶œì— ìˆì–´ ì¹´ë©”ë¼ ìœ„ì¹˜ê°€ ë°”ë€”ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” `mapViewCameraIdle(_ mapView: NMFMapView)`ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ë©”ì„œë“œëŠ” ì¹´ë©”ë¼ë¥¼ ì›€ì§ì¼ë•Œë§ˆë‹¤ ë°”ë¡œë°”ë¡œ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— ë„ˆë¬´ ë§ì€ APIí˜¸ì¶œì„ í•˜ê²Œ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ `timeInterval`ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
    
```swift
func startAPICallDebouncer() {
        timer.invalidate()
        timer = Timer.scheduledTimer(timeInterval: 1.0, target: self, selector: #selector(handleAPICall), userInfo: nil, repeats: false)
    }
    
    @objc func handleAPICall() {
        let southWest = rootView.mapView.mapView.projection.latlngBounds(fromViewBounds: self.view.frame).southWest
        let northEast = rootView.mapView.mapView.projection.latlngBounds(fromViewBounds: self.view.frame).northEast
        viewModel.searchPartyOnMap(searchHighLatitude: northEast.lat, searchHighLongitude: northEast.lng, searchLowLatitude: southWest.lat, searchLowLongitude: southWest.lng)
    }
    
    func mapViewCameraIdle(_ mapView: NMFMapView) {
        startAPICallDebouncer()
    }
    
```
    
 </details>

<details>
<summary><big>ViewModel Input/Output/State ë¶„ë¦¬</big></summary> 
    
### Input/Output
> ViewModelì—ì„œ Inputê³¼ Outputì„ ë‚˜ëˆ„ëŠ” ê²ƒì€ ì½”ë“œ ê°€ë…ì„±ì— ì´ì ì„ ì¤ë‹ˆë‹¤. 
    
- Inputì˜ ê²½ìš° enumì„ `Relay`ë¡œ ìƒì„±í•˜ì—¬ êµ¬ë…í•˜ëŠ” í˜•íƒœë¡œ enum caseì— ì—¬ëŸ¬ ì´ë²¤íŠ¸ë“¤ì„ ì„¤ì •í•´ì¤ë‹ˆë‹¤. 
```swift
enum Input {
        case BirthTextFieldTrigger
        case viewdidLoadTrigger
        case editCompleteButtonClicked
}
    var input = PublishRelay<Input>()
```
    
- Outputì˜ ê²½ìš° struct êµ¬ì¡°ë¡œ ë‹¤ì–‘í•œ `Relay`ë“¤ì„ ì¸ìŠ¤í„´ìŠ¤ë¡œ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
```swift
struct Output {
        var nameTextField = BehaviorRelay<String>(value: "")
        var selectedGender = BehaviorRelay(value: GenderCase.man)
        var birthTextField = BehaviorRelay<String>(value: "")
        var regionTextField = BehaviorRelay<String>(value: "")
        var introduceTextView = BehaviorRelay<String>(value: "")
        var completeButtonIsValidState = BehaviorRelay(value: false)
}
```
    
:fire: Input, Outputì„ `Relay`ë¡œ ì‚¬ìš©í•˜ëŠ” ì´ìœ  : `Subject`ì˜ ê²½ìš° Completed, Error ë“±ì˜ ì—¬ëŸ¬ closureë¥¼ ì œê³µí•©ë‹ˆë‹¤. í•˜ì§€ë§Œ inputê³¼ outputì˜ ê²½ìš° Errorì²˜ë¦¬ ë° Completedë¥¼ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— `Next` closureë§Œ ì œê³µí•˜ëŠ” Relayë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. (Errorì²˜ë¦¬ê°€ í•„ìš”í•  ê²½ìš° Subjectë¡œ ë°”ê¿€ í•„ìš” ìˆìŒ) 
 </details>    
    
<details>
<summary><big>í˜ì´ì§• êµ¬í˜„</big></summary> 
    
### í˜ì´ì§• êµ¬í˜„
> APIí˜¸ì¶œ ì‹œ ë‹¤ëŸ‰ì˜ ë°ì´í„°ê°€ í•œë²ˆì— í˜¸ì¶œë˜ëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ TableViewì˜ í˜ì´ì§•ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. pageë¥¼ ë‚˜ëˆ„ê³  ë°ì´í„° ë°°ì—´ì—ì„œ 10ê°œì”© ê°€ì ¸ì˜¤ë„ë¡ êµ¬í˜„í•˜ì˜€ìœ¼ë©°, TableViewì˜ RootViewì— Activity Indicatorë¥¼ ì‚½ì…í•˜ì—¬ í˜ì´ì§•ì´ ì§„í–‰ë˜ê³  ìˆìŒì„ UIì— êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. 
  
    
<img src="https://github.com/kimseongj/Drinkin/assets/88870642/7ed54c15-408c-4acd-a702-4364ab47cea0" width=250>    
    
- Paging êµ¬í˜„ ì‹œ ì œì¼ ì¤‘ìš”í•œ ë©”ì„œë“œì¸ `scrollViewDidScroll(_ scrollView: UIScrollView)`ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. í•´ë‹¹ ë©”ì„œë“œëŠ” ViewController ë‚´ë¶€ì—ì„œ ì‹¤í–‰ë˜ëŠ” Scrolling Eventë¥¼ ê°ì§€í•©ë‹ˆë‹¤.
- ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ Height1(Scrollingí•œ ê¸¸ì´)ê°€ Height2(TableView ContentViewì˜ Height - ë””ë°”ì´ìŠ¤ì˜ Height)ë¥¼ ë„˜ì–´ì„œë©´ ë¶„ê¸°ì²˜ë¦¬ë¥¼ í•˜ì—¬ Pagingì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤.



```swift
    func scrollViewDidScroll(_ scrollView: UIScrollView) {
        let offsetY = scrollView.contentOffset.y
        let contentHeight = scrollView.contentSize.height
        let height = scrollView.frame.height
        
        if offsetY > (contentHeight - height) && !isPaging && viewModel.output.hasNextPage {
            rootView.activityIndicator.startAnimating()
            beginPaging()
        } 
    }
    
    func beginPaging() {
        isPaging = true
        pagepartyListTableView()
    }
    
    func pagepartyListTableView() {
        DispatchQueue.main.asyncAfter(deadline: .now() + 1) { [weak self] in
            guard let self = self else { return }
            
            viewModel.pagePartyList()
            self.rootView.activityIndicator.stopAnimating()
            self.isPaging = false
        }
    }
```
 </details>
